@namespace BlazorComponent
@inherits BRoutableGroupItem<ItemGroupBase>

<CascadingValue Value="IsDark" Name="IsDark">
    @if (Key is not null)
    {
        <KeyTransitionElement
            Tag="@Tag"
            type="@TypeAttribute"
            class="@CssProvider.GetClass()"
            style="@CssProvider.GetStyle()"
            Value="@Key"
            id="@Id"
            ReferenceCaptureAction="reference => Ref = reference"
            @onclick="HandleOnClick"
            __internal_stopPropagation_onclick="@OnClickStopPropagation"
            __internal_preventDefault_onclick="@OnClickPreventDefault"
            @attributes="Attributes">

            @if (HasLoader)
            {
                @RenderPart(typeof(BButtonLoader<>))
            }

            @RenderPart(typeof(BButtonContent<>))
        </KeyTransitionElement>
    }
    else
    {
        <ShowTransitionElement
            Tag="@Tag"
            type="@TypeAttribute"
            class="@CssProvider.GetClass()"
            style="@CssProvider.GetStyle()"
            Value="@(Show ?? true)"
            id="@Id"
            ReferenceCaptureAction="reference => Ref = reference"
            @onclick="HandleOnClick"
            __internal_stopPropagation_onclick="@OnClickStopPropagation"
            __internal_preventDefault_onclick="@OnClickPreventDefault"
            @attributes="Attributes">

            @if (HasLoader)
            {
                @RenderPart(typeof(BButtonLoader<>))
            }

            @RenderPart(typeof(BButtonContent<>))
        </ShowTransitionElement>
    }
</CascadingValue>
@namespace BlazorComponent
@inherits BDomComponentBase
@implements IDatePickerTableBody

<thead>
    <tr>
        @if (ShowWeek)
        {
            <th></th>
        }
        @foreach (var day in WeekDays)
        {
            <th>@day</th>
        }
    </tr>
</thead>
<tbody>
    @{
        var totalCount = 0;
        var dayCount = 1;
        var weekCount = 1;

        @for (; totalCount < DaysInMonth + WeekDaysBeforeFirstDayOfTheMonth + 1; weekCount++)
        {
            <tr>
                @for (; totalCount < WeekDaysBeforeFirstDayOfTheMonth; totalCount++)
                {
                    <td></td>
                }

                @for (; totalCount < weekCount * 7; dayCount++, totalCount++)
                {
                    if (dayCount <= DaysInMonth)
                    {
                        var day = dayCount;
                        <td>
                            @if (IsCurrentDay(day))
                            {
                                <SlotComponent IsActive="@IsSelected(day)" Click="@HandleDayClick(day)" Description="SlotProvider.GetSlot<BButton>(CURRENT_BTN)">
                                    @day
                                </SlotComponent>
                            }
                            else
                            {
                                <SlotComponent IsActive="@IsSelected(day)" Click="@HandleDayClick(day)" Description="SlotProvider.GetSlot<BButton>()">
                                    @day
                                </SlotComponent>
                            }
                        </td>
                    }
                    else
                    {
                        <td></td>
                    }
                }
            </tr>
        }
    }
</tbody>

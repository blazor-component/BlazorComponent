@namespace BlazorComponent
@inherits BDomComponentBase
@typeparam TColumn
@typeparam TColumnItem
@typeparam TColumnItemValue

<div class="@CssProvider.GetClass("view")" style="@CssProvider.GetStyle("view")" @ontouchmove:preventDefault>
    <CascadingValue Value="this">
        @foreach (var (item, columnIndex) in FormattedColumns.Select((item, index) => (item, index)))
        {
            <BMobilePickerColumn TColumn="TColumn"
                                 TColumnItem="TColumnItem"
                                 TColumnItemValue="TColumnItemValue"
                                 VisibleItemCount="@VisibleItemCount"
                                 SwipeDuration="@SwipeDuration"
                                 Value="@(item.Index ?? 0)"
                                 Items="item.Values"
                                 ItemText="ItemText"
                                 ItemHeight="ItemPxHeight"
                                 OnChange="(selectedIndex) => HandleOnChange(selectedIndex, columnIndex)">
            </BMobilePickerColumn>
        }
    </CascadingValue>
    <div class="@CssProvider.GetClass("mask")" style="@CssProvider.GetStyle("mask")"></div>
    <div class="@CssProvider.GetClass("picked")" style="@CssProvider.GetStyle("picked")"></div>
</div>

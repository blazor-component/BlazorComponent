@namespace BlazorComponent
@inherits BDomComponentBase
@typeparam TColumn
@typeparam TColumnItem
@typeparam TColumnItemValue

<div class="@CssProvider.GetClass("view")" style="@CssProvider.GetStyle("view")" @ontouchmove:preventDefault>
    <CascadingValue Value="this">
        @foreach (var (columnItems, columnIndex) in FormattedColumns.Select((item, index) => (item, index)))
        {
            var defaultIndex = GetDefaultIndex(columnItems, columnIndex);
            
            <BMobilePickerColumn TColumnItem="TColumnItem" TColumnItemValue="TColumnItemValue"
                                 VisibleItemCount="@VisibleItemCount" SwipeDuration="@SwipeDuration"
                                 DefaultIndex="@defaultIndex"
                                 Items="columnItems" ItemText="ItemText" ItemHeight="ItemPxHeight"
                                 OnChange="HandleOnChange">
            </BMobilePickerColumn>
        }
    </CascadingValue>
    <div class="@CssProvider.GetClass("mask")" style="@CssProvider.GetStyle("mask")"></div>
    <div class="@CssProvider.GetClass("picked")" style="@CssProvider.GetStyle("picked")"></div>
</div>

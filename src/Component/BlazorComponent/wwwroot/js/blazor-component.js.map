{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.ts","src/directive/index.ts","src/directive/ripple.ts","src/interop.ts","src/modules/Caret.ts","src/modules/dragHelper.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","interop","window","BlazorComponent","ripple_1","default","MutationObserver","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","target","mutation","value","type","_bind","attributes","addEventListener","rippleShow","rippleHide","nodeName","rippleEls","document","querySelectorAll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","el","err","return","attributeName","removeEventListener","observe","subtree","childList","attributeFilter","transform","style","webkitTransform","opacity","toString","ripples","container","createElement","animation","_calculate","appendChild","className","offset","getBoundingClientRect","localX","clientX","left","localY","clientY","top","radius","Math","sqrt","pow","clientWidth","clientHeight","scale","x","y","centerX","centerY","size","computed","width","height","getComputedStyle","position","dataset","previousPosition","classList","add","activated","String","performance","now","setTimeout","remove","getElementsByClassName","isHiding","diff","Number","delay","max","parentNode","removeChild","currentTarget","index_1","getZIndex","nodeType","Node","ELEMENT_NODE","index","getPropertyValue","onTransition","isActive","element","propertyName","getDom","documentElement","indexOf","array","split","querySelector","body","getDomInfo","cloned","selector","arguments","result","dom","cloneNode","getDomInfoObj","offsetTop","offsetLeft","scrollHeight","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","res","Object","viewportElement","box","offsetWidth","offsetHeight","relativeTop","relativeBottom","bottom","relativeLeft","relativeRight","right","absoluteLeft","absoluteTop","getElementPos","round","fileClickEvent","fileId","this","nodeValue","getElementById","click","getObjectURL","file","url","URL","createObjectURL","webkitURL","attach","_a","_b","addDomEventListener","eventName","preventDefault","invoker","callback","args","k","obj","json","JSON","stringify","v","Window","invokeMethodAsync","debounce","innerWidth","innerHeight","htmlElement","updateCanvas","hue","saturationGradient","ctx","canvas","getContext","createLinearGradient","addColorStop","fillStyle","fillRect","valueGradient","addStepperEventListener","removeStepperEventListener","initStepperWrapper","contains","display","requestAnimationFrame","enter","leave","addFileClickEventListener","btn","removeFileClickEventListener","clearFile","setAttribute","getFileInfo","files","fileInfo","objectUrl","push","fileName","name","objectURL","uploadFile","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","append","key","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","upload","onprogress","event","percent","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","eventType","stopPropagation","evt","createEvent","initEvent","dispatchEvent","setProperty","getFirstChildBoundingClientRect","firstElementChild","htmlElementEventListennerConfigs","addHtmlElementEventListener","options","actions","config","listener","relatedTarget","attr","removeHtmlElementEventListener","configs","forEach","item","outsideClickListenerCaches","slideTo","targetPageY","timer","setInterval","currentY","speed","ceil","clearInterval","scrollTo","getActiveElement","activeElement","getAttribute","getWindowAndDocumentProps","windowProps","documentProps","prop","func","wait","immediate","timeout","_this","_arguments","context","callNow","clearTimeout","apply","css","hasOwnProperty","addCls","clsName","_element$classList","_toConsumableArray","removeCls","_element$classList2","addOutsideClickEventListener","noInvokeSelectors","invokeSelectors","contentElement","some","s","join","removeOutsideClickEventListener","insideSelectors","addMouseleaveEventListener","matchMedia","query","matches","copy","text","navigator","clipboard","writeText","then","console","log","error","fallbackCopyTextToClipboard","textArea","focus","select","msg","execCommand","noScroll","HTMLElement","preventScroll","HTMLInputElement","HTMLTextAreaElement","hasFocus","blur","backTop","scrollIntoView","behavior","block","inline","scrollToActiveElement","scrollToPosition","getFirstChildDomInfo","addClsToFirstChild","removeClsFromFirstChild","addDomEventListenerToFirstChild","getAbsoluteTop","offsetParent","getAbsoluteLeft","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","pageXOffset","pageYOffset","isTop","scrollY","isBottom","elementScrollIntoView","oldBodyCacheStack","getMenuOrDialogMaxZIndex","exclude","zis","activeElements","concat","includes","getTextAreaInfo","currentStyle","parseFloat","defaultView","is","NaN","disableBodyScroll","overflow","oldBodyCache","enableBodyScroll","pop","_c","destroyAllDialog","createIconFromfontCN","scriptUrl","script","getScroll","getInnerText","innerText","getMaxZIndex","all","reduce","zIndex","getStyle","styleProp","funcDict","disposeResizeTextArea","id","objReferenceDict","resizeTextArea","minRows","maxRows","dims","rowHeight","oldHeight","rows","trunc","newHeight","overflowY","registerResizeTextArea","objReference","disposeObj","objReferenceName","Caret_1","mentionsOnWindowClick","mentionsObj","getCursorXY","dragHelper_1","getSize","selectors","sizeProp","charAt","toUpperCase","slice","registerCustomEvent","Blazor","registerCustomEventType","browserEventName","createEventArgs","getMenuableDimensions","hasActivator","activatorSelector","attached","attachSelector","dimensions","activator","content","relativeYOffset","offsetParentLeft","measure","cb","offsetRect","getRoundedBoundedClientRect","rect","parseInt","marginLeft","marginTop","updateSize","expandTransition","blazorId","_bl_","getAttributeNames","find","startsWith","substring","getBlazorId","otpInputKeyupEvent","otpIdx","elementList","eventKey","otpInputFocus","focusIndex","otpInputFocusEvent","otpInputOnInputEvent","defineProperty","enumerable","get","disableDraggable","enableDraggable","resetModalPosition","bindTableHeaderAndBodyScroll","bodyRef","headerRef","bindScrollLeftToHeader","unbindTableHeaderAndBodyScroll","addPreventKeys","inputElement","keys","map","removePreventKeys","addPreventEnterOnOverlayVisible","overlayElement","preventKeyOnCondition","check","removePreventEnterOnOverlayVisible","insertAdjacentHTML","head","getImageDimensions","src","Promise","resolve","reject","img","Image","onload","hasError","preventDefaultOnArrowUpDown","observer","ResizeObserver","entries","dimension","contentRect","getBoundingClientRects","elements","getProp","updateWindowTransition","itemEl","getScrollHeightWithoutHeight","insertToFirst","parentElement","insertBefore","firstChild","customEventName","pastedData","clipboardData","getData","registerTextFieldOnMouseDown","mouseEventArgs","Detail","detail","ScreenX","screenX","ScreenY","screenY","ClientX","ClientY","OffsetX","offsetX","OffsetY","offsetY","PageX","pageX","PageY","pageY","Button","button","Buttons","buttons","CtrlKey","ctrlKey","ShiftKey","shiftKey","AltKey","altKey","MetaKey","metaKey","Type","isMobile","test","userAgent","substr","checkElementFixed","containsActiveElement","copyChild","removeAttribute","copyText","observeElement","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","invokeMultipleMethod","multipleResult","windowAndDocument","registerOTPInputOnInputEvent","_loop","InputCaret","inputor","_classCallCheck","getPos","domInputor","selectionStart","getPosition","pos","format","replace","inputorValue","start_range","end_range","html","Mirror","create","getOffset","$mirror","AntDesign","mirrorCss","innerHTML","css_attr","flag","oRect","elem","throttle","fn","threshold","start","Date","_len","Array","_key","curTime","eventMap","Map","defaultOptions","inViewport","Dragger","_container","triggler","_triggler","_options","onMousedown","onMouseup","onMousemove","onResize","_style","_isFirst","dragInViewport","_this2","_state","state","_getContainerPos","isInDrag","mX","mY","getContainerPos","domMaxY","domMaxX","domStartX","domStartY","_getContainerPos2","newDomX","nowX","nowY","disX","disY","newDomY","margin","paddingBottom","bind","assign","dragger","set","bindDrag","unbindDrag","resetContainerStyle"],"mappings":"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","file":"blazor-component.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿import * as interop from \"./src/interop\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        BlazorComponent: any;\r\n    }\r\n}\r\n\r\nwindow.BlazorComponent = {\r\n    interop,\r\n};\r\n","import { rippleShow, rippleHide } from \"./ripple\";\r\n\r\nexport default function registerDirective() {\r\n    var observer = new MutationObserver(function (mutationsList) {\r\n        for (let mutation of mutationsList) {\r\n            if (mutation.type === 'childList') {\r\n                var target: any = mutation.target;\r\n                //ripple\r\n                if (!target._bind && target.attributes['ripple']) {\r\n\r\n                    target.addEventListener('mousedown', rippleShow)\r\n                    target.addEventListener('mouseup', rippleHide)\r\n                    target.addEventListener('mouseleave', rippleHide)\r\n\r\n                    target._bind = true;\r\n                }\r\n                else if (target.nodeName == 'BODY') {\r\n                    var rippleEls = document.querySelectorAll('[ripple]');\r\n                    for (let rippleEl of rippleEls) {\r\n                        var el: any = rippleEl;\r\n                        if (!el._bind) {\r\n                            el.addEventListener('mousedown', rippleShow)\r\n                            el.addEventListener('mouseup', rippleHide)\r\n                            el.addEventListener('mouseleave', rippleHide)\r\n\r\n                            el._bind = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (mutation.type === 'attributes') {\r\n                //ripple\r\n                if (mutation.attributeName == 'ripple') {\r\n                    var target: any = mutation.target;\r\n                    if (target.attributes['ripple']) {\r\n                        target.addEventListener('mousedown', rippleShow)\r\n                        target.addEventListener('mouseup', rippleHide)\r\n                        target.addEventListener('mouseleave', rippleHide)\r\n                    }\r\n                    else {\r\n                        target.removeEventListener('mousedown', rippleShow)\r\n                        target.removeEventListener('mouseup', rippleHide)\r\n                        target.removeEventListener('mouseleave', rippleHide)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    observer.observe(document, { attributes: true, subtree: true, childList: true, attributeFilter: ['ripple'] });\r\n}","const calculate = (\r\n    e,\r\n    el\r\n) => {\r\n    let localX = 0\r\n    let localY = 0\r\n\r\n    const offset = el.getBoundingClientRect()\r\n    const target = e\r\n\r\n    localX = target.clientX - offset.left\r\n    localY = target.clientY - offset.top\r\n\r\n    let radius = 0\r\n    let scale = 0.3\r\n\r\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2\r\n\r\n    const centerX = `${(el.clientWidth - (radius * 2)) / 2}px`\r\n    const centerY = `${(el.clientHeight - (radius * 2)) / 2}px`\r\n\r\n    const x = `${localX - radius}px`\r\n    const y = `${localY - radius}px`\r\n\r\n    return { radius, scale, x, y, centerX, centerY }\r\n}\r\n\r\nfunction transform(el, value) {\r\n    el.style.transform = value\r\n    el.style.webkitTransform = value\r\n}\r\n\r\nfunction opacity(el, value) {\r\n    el.style.opacity = value.toString()\r\n}\r\n\r\nconst ripples = {\r\n    /* eslint-disable max-statements */\r\n    show(\r\n        e,\r\n        el\r\n    ) {\r\n\r\n        const container = document.createElement('span')\r\n        const animation = document.createElement('span')\r\n\r\n        container.appendChild(animation)\r\n        container.className = 'm-ripple__container'\r\n\r\n        const { radius, scale, x, y, centerX, centerY } = calculate(e, el)\r\n\r\n        const size = `${radius * 2}px`\r\n        animation.className = 'm-ripple__animation'\r\n        animation.style.width = size\r\n        animation.style.height = size\r\n\r\n        el.appendChild(container)\r\n\r\n        const computed = window.getComputedStyle(el)\r\n        if (computed && computed.position === 'static') {\r\n            el.style.position = 'relative'\r\n            el.dataset.previousPosition = 'static'\r\n        }\r\n\r\n        animation.classList.add('m-ripple__animation--enter')\r\n        animation.classList.add('m-ripple__animation--visible')\r\n        transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`)\r\n        opacity(animation, 0)\r\n        animation.dataset.activated = String(performance.now())\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--enter')\r\n            animation.classList.add('m-ripple__animation--in')\r\n            transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`)\r\n            opacity(animation, 0.25)\r\n        }, 0)\r\n    },\r\n\r\n    hide(el) {\r\n\r\n        const ripples = el.getElementsByClassName('m-ripple__animation')\r\n\r\n        if (ripples.length === 0) return\r\n        const animation = ripples[ripples.length - 1]\r\n\r\n        if (animation.dataset.isHiding) return\r\n        else animation.dataset.isHiding = 'true'\r\n\r\n        const diff = performance.now() - Number(animation.dataset.activated)\r\n        const delay = Math.max(250 - diff, 0)\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--in')\r\n            animation.classList.add('m-ripple__animation--out')\r\n            opacity(animation, 0)\r\n\r\n            setTimeout(() => {\r\n                const ripples = el.getElementsByClassName('m-ripple__animation')\r\n                if (ripples.length === 1 && el.dataset.previousPosition) {\r\n                    el.style.position = el.dataset.previousPosition\r\n                    delete el.dataset.previousPosition\r\n                }\r\n\r\n                animation.parentNode && el.removeChild(animation.parentNode)\r\n            }, 300)\r\n        }, delay)\r\n    },\r\n}\r\n\r\nexport function rippleShow(e) {\r\n    ripples.show(e, e.currentTarget);\r\n}\r\n\r\nexport function rippleHide(e) {\r\n    ripples.hide(e.currentTarget);\r\n}","﻿import registerDirective from './directive/index'\r\n\r\nexport function updateCanvas(element, hue: number) {\r\n  const canvas = element as HTMLCanvasElement\r\n  const ctx = canvas.getContext('2d')\r\n\r\n  if (!ctx) return\r\n\r\n  const saturationGradient = ctx.createLinearGradient(0, 0, canvas.width, 0)\r\n  saturationGradient.addColorStop(0, 'hsla(0, 0%, 100%, 1)') // white\r\n  saturationGradient.addColorStop(1, `hsla(${hue}, 100%, 50%, 1)`)\r\n  ctx.fillStyle = saturationGradient\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n  const valueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height)\r\n  valueGradient.addColorStop(0, 'hsla(0, 0%, 100%, 0)') // transparent\r\n  valueGradient.addColorStop(1, 'hsla(0, 0%, 0%, 1)') // black\r\n  ctx.fillStyle = valueGradient\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n}\r\n\r\nexport function getZIndex(el?: Element | null): number {\r\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n  if (!index) return getZIndex(el.parentNode as Element)\r\n  return index\r\n}\r\n\r\nexport function addStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n  element.addEventListener(\r\n    'transitionend',\r\n    e => onTransition(e, isActive, element),\r\n    false\r\n  );\r\n}\r\n\r\nexport function removeStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n  element.removeEventListener(\r\n    'transitionend',\r\n    e => onTransition(e, isActive, element),\r\n    false\r\n  );\r\n}\r\n\r\nexport function initStepperWrapper(element: HTMLElement) {\r\n  if (!element.classList.contains('active')) {\r\n    element.style.display = 'none';\r\n  }\r\n\r\n  var observer = new MutationObserver(function (mutationsList) {\r\n    for (let mutation of mutationsList) {\r\n      if (mutation.type === 'attributes') {\r\n        if (mutation.attributeName == 'class') {\r\n          var target: HTMLElement = mutation.target as HTMLElement;\r\n          if (target.classList.contains('active')) {\r\n            target.style.display = '';\r\n            enter(target, true);\r\n          } else {\r\n            leave(target);\r\n            setTimeout(() => {\r\n              target.style.display = 'none';\r\n            }, 300);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  observer.observe(element, { attributes: true, attributeFilter: ['class'] });\r\n}\r\n\r\nfunction onTransition(e: TransitionEvent, isActive: Boolean, element: HTMLElement) {\r\n  if (!isActive ||\r\n    e.propertyName !== 'height'\r\n  ) return\r\n\r\n  element.style.height = 'auto';\r\n}\r\n\r\nfunction enter(element: HTMLElement, isActive: Boolean) {\r\n  let scrollHeight = 0\r\n\r\n  // Render bug with height\r\n  requestAnimationFrame(() => {\r\n    scrollHeight = element.scrollHeight;\r\n  });\r\n\r\n  element.style.height = 0 + 'px';\r\n  // Give the collapsing element time to collapse\r\n  setTimeout(() => isActive && (element.style.height = (scrollHeight + 'px' || 'auto')), 450)\r\n}\r\n\r\nfunction leave(element: HTMLElement) {\r\n  element.style.height = element.clientHeight + 'px';\r\n  setTimeout(() => {\r\n    element.style.height = 0 + 'px';\r\n  }, 10)\r\n}\r\n\r\nexport function getDom(element) {\r\n  if (!element) {\r\n    element = document.body;\r\n  } else if (typeof element === 'string') {\r\n    if (element === 'document') {\r\n      return document.documentElement;\r\n    } else if (element.indexOf('.') > 0) {\r\n      let array = element.split('.');\r\n      let el = document.querySelector(array[0]);\r\n      if (!el) {\r\n        return null;\r\n      }\r\n\r\n      element = el[array[1]];\r\n    } else {\r\n      element = document.querySelector(element);\r\n    }\r\n  }\r\n  return element;\r\n}\r\n\r\nexport function getDomInfo(element, selector = \"body\") {\r\n  var result = {};\r\n\r\n  var dom = getDom(element);\r\n\r\n  if (dom) {\r\n    if (dom.style && dom.style['display'] === 'none') {\r\n      // clone and set display not none becuase\r\n      // element with display:none can not get the dom info\r\n      var cloned = dom.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block';\r\n      cloned.style['z-index'] = -1000;\r\n      document.querySelector(selector).appendChild(cloned);\r\n\r\n      result = getDomInfoObj(cloned);\r\n\r\n      document.querySelector(selector).removeChild(cloned);\r\n    } else {\r\n      result = getDomInfoObj(dom);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom) {\r\n  var result = {};\r\n  result[\"offsetTop\"] = dom.offsetTop || 0;\r\n  result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n  result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n  result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n  result[\"scrollTop\"] = dom.scrollTop || 0;\r\n  result[\"clientTop\"] = dom.clientTop || 0;\r\n  result[\"clientLeft\"] = dom.clientLeft || 0;\r\n  result[\"clientHeight\"] = dom.clientHeight || 0;\r\n  result[\"clientWidth\"] = dom.clientWidth || 0;\r\n  var position = getElementPos(dom);\r\n  result[\"offsetWidth\"] = Math.round(position.offsetWidth) || 0;\r\n  result[\"offsetHeight\"] = Math.round(position.offsetHeight) || 0;\r\n  result[\"relativeTop\"] = Math.round(position.relativeTop) || 0;\r\n  result[\"relativeBottom\"] = Math.round(position.relativeBottom) || 0;\r\n  result[\"relativeLeft\"] = Math.round(position.relativeLeft) || 0;\r\n  result[\"relativeRight\"] = Math.round(position.relativeRight) || 0;\r\n  result[\"absoluteLeft\"] = Math.round(position.absoluteLeft) || 0;\r\n  result[\"absoluteTop\"] = Math.round(position.absoluteTop) || 0;\r\n  return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n  var res: any = new Object();\r\n  res.x = 0;\r\n  res.y = 0;\r\n  if (element !== null) {\r\n    if (element.getBoundingClientRect) {\r\n      var viewportElement = document.documentElement;\r\n      var box = element.getBoundingClientRect();\r\n      var scrollLeft = viewportElement.scrollLeft;\r\n      var scrollTop = viewportElement.scrollTop;\r\n\r\n      res.offsetWidth = box.width;\r\n      res.offsetHeight = box.height;\r\n      res.relativeTop = box.top;\r\n      res.relativeBottom = box.bottom;\r\n      res.relativeLeft = box.left;\r\n      res.relativeRight = box.right;\r\n      res.absoluteLeft = box.left + scrollLeft;\r\n      res.absoluteTop = box.top + scrollTop;\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nexport function addFileClickEventListener(btn) {\r\n  if ((btn as HTMLElement).addEventListener) {\r\n    (btn as HTMLElement).addEventListener(\"click\", fileClickEvent);\r\n  }\r\n}\r\n\r\nexport function removeFileClickEventListener(btn) {\r\n  (btn as HTMLElement).removeEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function fileClickEvent() {\r\n  var fileId = this.attributes[\"data-fileid\"].nodeValue;\r\n  var element = document.getElementById(fileId);\r\n  (element as HTMLInputElement).click();\r\n}\r\n\r\nexport function clearFile(element) {\r\n  element.setAttribute(\"type\", \"input\");\r\n  element.value = '';\r\n  element.setAttribute(\"type\", \"file\");\r\n}\r\n\r\nexport function getFileInfo(element) {\r\n  if (element.files && element.files.length > 0) {\r\n    var fileInfo = [];\r\n    for (var i = 0; i < element.files.length; i++) {\r\n      var file = element.files[i];\r\n      var objectUrl = getObjectURL(file);\r\n      fileInfo.push({\r\n        fileName: file.name,\r\n        size: file.size,\r\n        objectURL: objectUrl,\r\n        type: file.type\r\n      });\r\n    }\r\n\r\n    return fileInfo;\r\n  }\r\n}\r\n\r\nexport function getObjectURL(file: File) {\r\n  var url = null;\r\n  if (window.URL != undefined) {\r\n    url = window.URL.createObjectURL(file);\r\n  } else if (window.webkitURL != undefined) {\r\n    url = window.webkitURL.createObjectURL(file);\r\n  }\r\n  return url;\r\n}\r\n\r\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\r\n  let formData = new FormData();\r\n  var file = element.files[index];\r\n  var size = file.size;\r\n  formData.append(name, file);\r\n  if (data != null) {\r\n    for (var key in data) {\r\n      formData.append(key, data[key]);\r\n    }\r\n  }\r\n  const req = new XMLHttpRequest()\r\n  req.onreadystatechange = function () {\r\n    if (req.readyState === 4) {\r\n      if (req.status != 200) {\r\n        instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\r\n        return;\r\n      }\r\n      instance.invokeMethodAsync(successMethod, fileId, req.responseText);\r\n    }\r\n  }\r\n  req.upload.onprogress = function (event) {\r\n    var percent = Math.floor(event.loaded / size * 100);\r\n    instance.invokeMethodAsync(percentMethod, fileId, percent);\r\n  }\r\n  req.onerror = function (e) {\r\n    instance.invokeMethodAsync(errorMethod, fileId, \"error\");\r\n  }\r\n  req.open('post', url, true)\r\n  if (headers != null) {\r\n    for (var header in headers) {\r\n      req.setRequestHeader(header, headers[header]);\r\n    }\r\n  }\r\n  req.send(formData)\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName, stopPropagation) {\r\n  var dom = getDom(element);\r\n  var evt = document.createEvent(eventType);\r\n  evt.initEvent(eventName);\r\n\r\n  if (stopPropagation) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n  return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function setProperty(element, name, value) {\r\n  var dom = getDom(element);\r\n  dom[name] = value;\r\n}\r\n\r\nexport function getBoundingClientRect(element, attach = \"body\") {\r\n  let dom = getDom(element);\r\n\r\n  var result = {}\r\n\r\n  if (dom && dom.getBoundingClientRect) {\r\n    if (dom.style && dom.style['display'] === 'none') {\r\n      var cloned = dom.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block';\r\n      cloned.style['z-index'] = -1000;\r\n      document.querySelector(attach)?.appendChild(cloned);\r\n\r\n      result = cloned.getBoundingClientRect();\r\n\r\n      document.querySelector(attach)?.removeChild(cloned);\r\n    } else {\r\n      result = dom.getBoundingClientRect()\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getFirstChildBoundingClientRect(element, selector = \"body\") {\r\n  let dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    if (dom.firstElementChild.style['display'] === 'none') {\r\n      // clone and set display not none becuase\r\n      // element with display:none can not getBoundingClientRect\r\n      var cloned = dom.firstElementChild.cloneNode(true);\r\n      cloned.style['display'] = 'inline-block'\r\n      cloned.style['z-index'] = -1000\r\n      document.querySelector(selector).appendChild(cloned);\r\n      var value = getBoundingClientRect(cloned);\r\n      document.querySelector(selector).removeChild(cloned);\r\n      return value;\r\n    } else {\r\n      return getBoundingClientRect(dom.firstElementChild);\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function addDomEventListener(element, eventName, preventDefault, invoker) {\r\n  let callback = args => {\r\n    const obj = {};\r\n    for (let k in args) {\r\n      if (k !== 'originalTarget') { //firefox occasionally raises Permission Denied when this property is being stringified\r\n        obj[k] = args[k];\r\n      }\r\n    }\r\n    let json = JSON.stringify(obj, (k, v) => {\r\n      if (v instanceof Node) return 'Node';\r\n      if (v instanceof Window) return 'Window';\r\n      return v;\r\n    }, ' ');\r\n    invoker.invokeMethodAsync('Invoke', json);\r\n    if (preventDefault === true) {\r\n      args.preventDefault();\r\n    }\r\n  };\r\n\r\n  if (element == 'window') {\r\n    if (eventName == 'resize') {\r\n      window.addEventListener(eventName, debounce(() => callback({\r\n        innerWidth: window.innerWidth,\r\n        innerHeight: window.innerHeight\r\n      }), 200, false));\r\n    } else {\r\n      window.addEventListener(eventName, callback);\r\n    }\r\n  } else {\r\n    let dom = getDom(element);\r\n    var htmlElement = dom as HTMLElement;\r\n    if (eventName == 'scroll') {\r\n      htmlElement.addEventListener(eventName, debounce(() => callback(getDomInfo(dom)), 200, false));\r\n    } else {\r\n      htmlElement.addEventListener(eventName, callback);\r\n    }\r\n  }\r\n}\r\n\r\nvar htmlElementEventListennerConfigs: { [prop: string]: any[] } = {}\r\n\r\nexport function addHtmlElementEventListener(selector, type, invoker, options, actions) {\r\n  let htmlElement: any\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var key = `${selector}:${type}`;\r\n\r\n  //save for remove\r\n  var config = {};\r\n\r\n  config[\"listener\"] = function (args) {\r\n    if (actions?.stopPropagation) {\r\n      args.stopPropagation();\r\n    }\r\n\r\n    if (actions?.preventDefault) {\r\n      args.preventDefault();\r\n    }\r\n\r\n    // mouseleave relatedTarget\r\n    if (actions?.relatedTarget && document.querySelector(actions.relatedTarget)?.contains(args.relatedTarget)) {\r\n      return;\r\n    }\r\n\r\n    const obj = {}\r\n\r\n    for (var k in args) {\r\n      if (typeof args[k] == 'string' || typeof args[k] == 'number') {\r\n        obj[k] = args[k];\r\n      } else if (k == 'target' && args.target.attributes) {\r\n        var target = {\r\n          attributes: {}\r\n        };\r\n\r\n        for (let index = 0; index < args.target.attributes.length; index++) {\r\n          const attr = args.target.attributes[index];\r\n          target.attributes[attr.name] = attr.value;\r\n        }\r\n        obj[k] = target;\r\n      }\r\n    }\r\n\r\n    invoker.invokeMethodAsync('Invoke', obj);\r\n  };\r\n\r\n  config['options'] = options;\r\n\r\n  if (htmlElementEventListennerConfigs[key]) {\r\n    htmlElementEventListennerConfigs[key].push(config);\r\n  } else {\r\n    htmlElementEventListennerConfigs[key] = [config]\r\n  }\r\n\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener(type, config[\"listener\"], options);\r\n  }\r\n}\r\n\r\n\r\nexport function removeHtmlElementEventListener(selector, type) {\r\n  let htmlElement: any\r\n\r\n  if (selector == \"window\") {\r\n    htmlElement = window;\r\n  } else if (selector == \"document\") {\r\n    htmlElement = document.documentElement;\r\n  } else {\r\n    htmlElement = document.querySelector(selector);\r\n  }\r\n\r\n  var key = `${selector}:${type}`;\r\n\r\n  var configs = htmlElementEventListennerConfigs[key];\r\n\r\n  if (configs) {\r\n    configs.forEach(item => {\r\n      htmlElement?.removeEventListener(type, item[\"listener\"], item['options']);\r\n    });\r\n\r\n    htmlElementEventListennerConfigs[key] = []\r\n  }\r\n}\r\n\r\nvar outsideClickListenerCaches: { [key: string]: any } = {}\r\n\r\nexport function addOutsideClickEventListener(invoker, noInvokeSelectors: [], invokeSelectors: [], contentElement) {\r\n  if (!noInvokeSelectors) return;\r\n\r\n  var listener = function (args) {\r\n    var exists = noInvokeSelectors.some(s => getDom(s)?.contains(args.target));\r\n    if (exists) return;\r\n\r\n    if (invokeSelectors) {\r\n      if (invokeSelectors.some(s => getDom(s)?.contains(args.target))) {\r\n        invoker.invokeMethodAsync(\"Invoke\", {});\r\n      }\r\n    } else {\r\n      invoker.invokeMethodAsync(\"Invoke\", {});\r\n    }\r\n  }\r\n\r\n  document.addEventListener(\"click\", listener, true);\r\n\r\n  var key = `(${noInvokeSelectors.join(',')})document:click`\r\n\r\n  outsideClickListenerCaches[key] = listener;\r\n}\r\n\r\nexport function removeOutsideClickEventListener(insideSelectors: string[]) {\r\n  if (!insideSelectors) return;\r\n\r\n  var key = `(${insideSelectors.join(',')})document:click`\r\n\r\n  if (outsideClickListenerCaches[key]) {\r\n    document.removeEventListener('click', outsideClickListenerCaches[key], true);\r\n    outsideClickListenerCaches[key] = undefined\r\n  }\r\n}\r\n\r\nexport function addMouseleaveEventListener(selector) {\r\n  var htmlElement = document.querySelector(selector);\r\n  if (htmlElement) {\r\n    htmlElement.addEventListener()\r\n  }\r\n}\r\n\r\nexport function matchMedia(query) {\r\n  return window.matchMedia(query).matches;\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n  var textArea = document.createElement(\"textarea\");\r\n  textArea.value = text;\r\n\r\n  // Avoid scrolling to bottom\r\n  textArea.style.top = \"0\";\r\n  textArea.style.left = \"0\";\r\n  textArea.style.position = \"fixed\";\r\n\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n\r\n  try {\r\n    var successful = document.execCommand('copy');\r\n    var msg = successful ? 'successful' : 'unsuccessful';\r\n    console.log('Fallback: Copying text command was ' + msg);\r\n  } catch (err) {\r\n    console.error('Fallback: Oops, unable to copy', err);\r\n  }\r\n\r\n  document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copy(text) {\r\n  if (!navigator.clipboard) {\r\n    fallbackCopyTextToClipboard(text);\r\n    return;\r\n  }\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function focus(selector, noScroll: boolean = false) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLElement))\r\n    throw new Error(\"Unable to focus an invalid element.\");\r\n  dom.focus({\r\n    preventScroll: noScroll\r\n  })\r\n}\r\n\r\nexport function select(selector) {\r\n  let dom = getDom(selector);\r\n  if (!(dom instanceof HTMLInputElement || dom instanceof HTMLTextAreaElement))\r\n    throw new Error(\"Unable to select an invalid element\")\r\n  dom.select()\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n  let dom = getDom(selector);\r\n  return (document.activeElement === dom);\r\n}\r\n\r\nexport function blur(selector) {\r\n  let dom = getDom(selector);\r\n  dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n  console.log(text);\r\n}\r\n\r\nexport function backTop(target: string) {\r\n  let dom = getDom(target);\r\n  if (dom) {\r\n    slideTo(dom.scrollTop);\r\n  } else {\r\n    slideTo(0);\r\n  }\r\n}\r\n\r\nfunction slideTo(targetPageY) {\r\n  var timer = setInterval(function () {\r\n    var currentY = document.documentElement.scrollTop || document.body.scrollTop;\r\n    var distance = targetPageY > currentY ? targetPageY - currentY : currentY - targetPageY;\r\n    var speed = Math.ceil(distance / 10);\r\n    if (currentY == targetPageY) {\r\n      clearInterval(timer);\r\n    } else {\r\n      window.scrollTo(0, targetPageY > currentY ? currentY + speed : currentY - speed);\r\n    }\r\n  }, 10);\r\n}\r\n\r\nexport function scrollTo(target) {\r\n  let dom = getDom(target);\r\n  if (dom instanceof HTMLElement) {\r\n    dom.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"start\",\r\n      inline: \"nearest\"\r\n    });\r\n  }\r\n}\r\n\r\nexport function scrollToActiveElement(container, target) {\r\n  let dom: HTMLElement = getDom(container);\r\n\r\n  target = dom.querySelector('.active') as HTMLElement;\r\n  if (!target) {\r\n    return;\r\n  }\r\n\r\n  dom.scrollTop = target.offsetTop - dom.offsetHeight / 2 + target.offsetHeight / 2;\r\n}\r\n\r\nexport function scrollToPosition(container, position) {\r\n  var dom = getDom(container);\r\n  dom.scrollTop = position;\r\n}\r\n\r\nexport function getFirstChildDomInfo(element, selector = \"body\") {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild)\r\n    return getDomInfo(dom.firstElementChild, selector);\r\n  return getDomInfo(dom, selector);\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.add(className);\r\n  }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n  var dom = getDom(element);\r\n  if (dom.firstElementChild) {\r\n    dom.firstElementChild.classList.remove(className);\r\n  }\r\n}\r\n\r\nexport function addDomEventListenerToFirstChild(element, eventName, preventDefault, invoker) {\r\n  var dom = getDom(element);\r\n\r\n  if (dom.firstElementChild) {\r\n    addDomEventListener(dom.firstElementChild, eventName, preventDefault, invoker);\r\n  }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n  var offset = e.offsetTop;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteTop(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n  var offset = e.offsetLeft;\r\n  if (e.offsetParent != null) {\r\n    offset += getAbsoluteLeft(e.offsetParent);\r\n  }\r\n  return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n  document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n  document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && addElement) {\r\n    parent.appendChild(addElement);\r\n  }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n  let parent = getDom(elementSelector);\r\n  if (parent && delElement) {\r\n    parent.removeChild(delElement);\r\n  }\r\n}\r\n\r\nexport function getActiveElement() {\r\n  let element = document.activeElement;\r\n  let id = element.getAttribute(\"id\") || \"\";\r\n  return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n  let ele = <HTMLElement>document.querySelector(selector);\r\n  if (ele && !ele.hasAttribute(\"disabled\")) {\r\n    setTimeout(() => {\r\n      ele.focus();\r\n      let curId = \"#\" + getActiveElement();\r\n      if (curId !== selector) {\r\n        if (count < 10) {\r\n          focusDialog(selector, count + 1);\r\n        }\r\n      }\r\n    }, 10);\r\n  }\r\n}\r\n\r\nexport function getWindow() {\r\n  return {\r\n    innerWidth: window.innerWidth,\r\n    innerHeight: window.innerHeight,\r\n    pageXOffset: window.pageXOffset,\r\n    pageYOffset: window.pageYOffset,\r\n    isTop: window.scrollY == 0,\r\n    isBottom: (window.scrollY + window.innerHeight) == document.body.clientHeight\r\n  };\r\n}\r\n\r\nexport function getWindowAndDocumentProps(windowProps: string[] = [], documentProps: string[] = []) {\r\n  const obj = {}\r\n\r\n  if (windowProps) {\r\n    windowProps.forEach(prop => obj[prop] = window[prop]);\r\n  }\r\n\r\n  if (documentProps) {\r\n    documentProps.forEach(prop => obj[prop] = document.documentElement[prop]);\r\n  }\r\n\r\n  return obj\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return () => {\r\n    const context = this, args = arguments;\r\n    const later = () => {\r\n      timeout = null;\r\n      if (!immediate) func.apply(this, args);\r\n    };\r\n    const callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n};\r\n\r\nexport function css(element: HTMLElement, name: string | object, value: string | null = null) {\r\n  if (typeof name === 'string') {\r\n    element.style[name] = value;\r\n  } else {\r\n    for (let key in name) {\r\n      if (name.hasOwnProperty(key)) {\r\n        element.style[key] = name[key];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.add(clsName);\r\n  } else {\r\n    element.classList.add(...clsName);\r\n  }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n  let element = getDom(selector);\r\n\r\n  if (typeof clsName === \"string\") {\r\n    element.classList.remove(clsName);\r\n  } else {\r\n    element.classList.remove(...clsName);\r\n  }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n  let element = getDom(selector);\r\n\r\n  if (!element)\r\n    return;\r\n\r\n  element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n}\r\n\r\nconst oldBodyCacheStack = [];\r\n\r\nconst hasScrollbar = () => {\r\n  let overflow = document.body.style.overflow;\r\n  if (overflow && overflow === \"hidden\") return false;\r\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n  let body = document.body;\r\n  const oldBodyCache = {};\r\n  [\"position\", \"width\", \"overflow\"].forEach((key) => {\r\n    oldBodyCache[key] = body.style[key];\r\n  });\r\n  oldBodyCacheStack.push(oldBodyCache);\r\n  css(body,\r\n    {\r\n      \"position\": \"relative\",\r\n      \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\r\n      \"overflow\": \"hidden\"\r\n    });\r\n  addCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function enableBodyScroll() {\r\n  let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\r\n\r\n  css(document.body,\r\n    {\r\n      \"position\": oldBodyCache[\"position\"] ?? null,\r\n      \"width\": oldBodyCache[\"width\"] ?? null,\r\n      \"overflow\": oldBodyCache[\"overflow\"] ?? null\r\n    });\r\n  removeCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function destroyAllDialog() {\r\n  document.querySelectorAll('.ant-modal-root')\r\n    .forEach(e => document.body.removeChild(e.parentNode));\r\n}\r\n\r\nexport function createIconFromfontCN(scriptUrl) {\r\n  if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\r\n    return;\r\n  }\r\n  const script = document.createElement('script');\r\n  script.setAttribute('src', scriptUrl);\r\n  script.setAttribute('data-namespace', scriptUrl);\r\n  document.body.appendChild(script);\r\n}\r\n\r\nexport function getScroll() {\r\n  return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n  let dom = getDom(element);\r\n  return dom.innerText;\r\n}\r\n\r\nexport function getMenuOrDialogMaxZIndex(exclude: Element[] = [], element: Element) {\r\n  const base = getDom(element);\r\n  // Start with lowest allowed z-index or z-index of\r\n  // base component's element, whichever is greater\r\n  const zis = [getZIndex(base)]\r\n\r\n  const activeElements = [\r\n    ...document.getElementsByClassName('m-menu__content--active'),\r\n    ...document.getElementsByClassName('m-dialog__content--active'),\r\n  ]\r\n\r\n  // Get z-index for all active dialogs\r\n  for (let index = 0; index < activeElements.length; index++) {\r\n    if (!exclude.includes(activeElements[index])) {\r\n      zis.push(getZIndex(activeElements[index]))\r\n    }\r\n  }\r\n\r\n  return Math.max(...zis)\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n  return [...document.all].reduce((r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0), 0)\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n  element = getDom(element);\r\n\r\n  if (element.currentStyle) {\r\n    return element.currentStyle[styleProp];\r\n  } else if (window.getComputedStyle) {\r\n    return document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\r\n  }\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n  var result = {};\r\n  var dom = getDom(element);\r\n  result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n  if (element.currentStyle) {\r\n    result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n    result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n    result[\"paddingBottom\"] = parseFloat(element.currentStyle[\"padding-bottom\"]);\r\n    result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n    result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n  } else if (window.getComputedStyle) {\r\n    result[\"lineHeight\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"line-height\"));\r\n    result[\"paddingTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-top\"));\r\n    result[\"paddingBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-bottom\"));\r\n    result[\"borderBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-bottom\"));\r\n    result[\"borderTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-top\"));\r\n  }\r\n  //Firefox can return this as NaN, so it has to be handled here like that.\r\n  if (Object.is(NaN, result[\"borderTop\"]))\r\n    result[\"borderTop\"] = 1;\r\n  if (Object.is(NaN, result[\"borderBottom\"]))\r\n    result[\"borderBottom\"] = 1;\r\n  return result;\r\n}\r\n\r\nconst funcDict = {};\r\n\r\nexport function registerResizeTextArea(element, minRows, maxRows, objReference) {\r\n  if (!objReference) {\r\n    disposeResizeTextArea(element);\r\n  } else {\r\n    objReferenceDict[element.id] = objReference;\r\n    funcDict[element.id + \"input\"] = function () {\r\n      resizeTextArea(element, minRows, maxRows);\r\n    }\r\n    element.addEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n    return getTextAreaInfo(element);\r\n  }\r\n}\r\n\r\nexport function disposeResizeTextArea(element) {\r\n  element.removeEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n  objReferenceDict[element.id] = null;\r\n  funcDict[element.id + \"input\"] = null;\r\n\r\n}\r\n\r\nexport function resizeTextArea(element, minRows, maxRows) {\r\n  var dims = getTextAreaInfo(element);\r\n  var rowHeight = dims[\"lineHeight\"];\r\n  var offsetHeight = dims[\"paddingTop\"] + dims[\"paddingBottom\"] + dims[\"borderTop\"] + dims[\"borderBottom\"];\r\n  var oldHeight = parseFloat(element.style.height);\r\n  element.style.height = 'auto';\r\n\r\n  var rows = Math.trunc(element.scrollHeight / rowHeight);\r\n  rows = Math.max(minRows, rows);\r\n\r\n  var newHeight = 0;\r\n  if (rows > maxRows) {\r\n    rows = maxRows;\r\n\r\n    newHeight = (rows * rowHeight + offsetHeight);\r\n    element.style.height = newHeight + \"px\";\r\n    element.style.overflowY = \"visible\";\r\n  } else {\r\n    newHeight = rows * rowHeight + offsetHeight;\r\n    element.style.height = newHeight + \"px\";\r\n    element.style.overflowY = \"hidden\";\r\n  }\r\n  if (oldHeight !== newHeight) {\r\n    let textAreaObj = objReferenceDict[element.id];\r\n    textAreaObj.invokeMethodAsync(\"ChangeSizeAsyncJs\", parseFloat(element.scrollWidth), newHeight);\r\n  }\r\n}\r\n\r\n\r\nconst objReferenceDict = {};\r\n\r\nexport function disposeObj(objReferenceName) {\r\n  delete objReferenceDict[objReferenceName];\r\n}\r\n\r\n//#region mentions\r\n\r\nimport getOffset from \"./modules/Caret\";\r\n\r\nexport function getCursorXY(element, objReference) {\r\n  objReferenceDict[\"mentions\"] = objReference;\r\n  window.addEventListener(\"click\", mentionsOnWindowClick);\r\n\r\n  var offset = getOffset(element);\r\n\r\n  return [offset.left, offset.top + offset.height + 14];\r\n}\r\n\r\nfunction mentionsOnWindowClick(e) {\r\n  let mentionsObj = objReferenceDict[\"mentions\"];\r\n  if (mentionsObj) {\r\n    mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\r\n  } else {\r\n    window.removeEventListener(\"click\", mentionsOnWindowClick);\r\n  }\r\n}\r\n\r\n//#endregion\r\n\r\nexport { disableDraggable, enableDraggable, resetModalPosition } from \"./modules/dragHelper\";\r\n\r\nexport function bindTableHeaderAndBodyScroll(bodyRef, headerRef) {\r\n  bodyRef.bindScrollLeftToHeader = () => {\r\n    headerRef.scrollLeft = bodyRef.scrollLeft;\r\n  }\r\n  bodyRef.addEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n}\r\n\r\nexport function unbindTableHeaderAndBodyScroll(bodyRef) {\r\n  if (bodyRef) {\r\n    bodyRef.removeEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n  }\r\n}\r\n\r\nfunction preventKeys(e, keys: string[]) {\r\n  if (keys.indexOf(e.key.toUpperCase()) !== -1) {\r\n    e.preventDefault();\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function addPreventKeys(inputElement, keys: string[]) {\r\n  if (inputElement) {\r\n    let dom = getDom(inputElement);\r\n    keys = keys.map(function (x) {\r\n      return x.toUpperCase();\r\n    })\r\n    funcDict[inputElement.id + \"keydown\"] = (e) => preventKeys(e, keys);\r\n    (dom as HTMLElement).addEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"], false);\r\n  }\r\n}\r\n\r\nexport function removePreventKeys(inputElement) {\r\n  if (inputElement) {\r\n    let dom = getDom(inputElement);\r\n    (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"]);\r\n    funcDict[inputElement.id + \"keydown\"] = null;\r\n  }\r\n}\r\n\r\nfunction preventKeyOnCondition(e, key: string, check: () => boolean) {\r\n  if (e.key.toUpperCase() === key.toUpperCase() && check()) {\r\n    e.preventDefault();\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function addPreventEnterOnOverlayVisible(element, overlayElement) {\r\n  if (element && overlayElement) {\r\n    let dom = getDom(element);\r\n    funcDict[element.id + \"keydown:Enter\"] = (e) => preventKeyOnCondition(e, \"enter\", () => overlayElement.offsetParent !== null);\r\n    (dom as HTMLElement).addEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"], false);\r\n  }\r\n}\r\n\r\nexport function removePreventEnterOnOverlayVisible(element) {\r\n  if (element) {\r\n    let dom = getDom(element);\r\n    (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"]);\r\n    funcDict[element.id + \"keydown:Enter\"] = null;\r\n  }\r\n}\r\n\r\nexport function insertAdjacentHTML(position, text: string) {\r\n  document.head.insertAdjacentHTML(position, text);\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n  return new Promise(function (resolve, reject) {\r\n    var img = new Image()\r\n    img.src = src\r\n    img.onload = function () {\r\n      resolve({\r\n        width: img.width,\r\n        height: img.height,\r\n        hasError: false\r\n      })\r\n    }\r\n    img.onerror = function () {\r\n      resolve({\r\n        width: 0,\r\n        height: 0,\r\n        hasError: true\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nexport function preventDefaultOnArrowUpDown(element) {\r\n  let dom: Element = getDom(element);\r\n  dom.addEventListener(\"keydown\", function (e: KeyboardEvent) {\r\n    if (e.code == \"ArrowUp\" || e.code == \"ArrowDown\" || e.code == \"Enter\") {\r\n      e.preventDefault();\r\n    }\r\n  })\r\n}\r\n\r\nexport function observer(element, invoker) {\r\n  const resizeObserver = new ResizeObserver((entries => {\r\n    const dimensions = [];\r\n    for (var entry of entries) {\r\n      const dimension = entry.contentRect;\r\n      dimensions.push(dimension);\r\n    }\r\n    invoker.invokeMethodAsync('Invoke', dimensions);\r\n  }));\r\n  resizeObserver.observe(getDom(element));\r\n}\r\n\r\nexport function getBoundingClientRects(selector) {\r\n  var elements = document.querySelectorAll(selector);\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < elements.length; i++) {\r\n    var e: Element = elements[i];\r\n    var dom = {\r\n      id: e.id,\r\n      rect: e.getBoundingClientRect()\r\n    };\r\n    result.push(dom);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getSize(selectors, sizeProp) {\r\n  var el = getDom(selectors);\r\n\r\n  var display = el.style.display;\r\n  var overflow = el.style.overflow;\r\n\r\n  el.style.display = \"\";\r\n  el.style.overflow = \"hidden\";\r\n\r\n  var size = el[\"offset\" + sizeProp.charAt(0).toUpperCase() + sizeProp.slice(1)] || 0;\r\n\r\n  el.style.display = display;\r\n  el.style.overflow = overflow;\r\n\r\n  return size;\r\n}\r\n\r\nexport function getProp(selectors, name) {\r\n  var el = getDom(selectors);\r\n  if (!el) {\r\n    return null;\r\n  }\r\n\r\n  return el[name];\r\n}\r\n\r\nexport function updateWindowTransition(selectors, isActive, item) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  var container: HTMLElement = el.querySelector('.m-window__container');\r\n\r\n  if (item) {\r\n    var itemEl: HTMLElement = getDom(item);\r\n    container.style.height = itemEl.clientHeight + 'px';\r\n    return;\r\n  }\r\n\r\n  if (isActive) {\r\n    container.classList.add('m-window__container--is-active');\r\n    container.style.height = el.clientHeight + 'px';\r\n  } else {\r\n    container.style.height = '';\r\n    container.classList.remove('m-window__container--is-active');\r\n  }\r\n}\r\n\r\nexport function getScrollHeightWithoutHeight(selectors) {\r\n  var el: HTMLElement = getDom(selectors);\r\n  if (!el) {\r\n    return 0;\r\n  }\r\n\r\n  var height = el.style.height;\r\n  el.style.height = '0'\r\n  var scrollHeight = el.scrollHeight;\r\n  el.style.height = height;\r\n\r\n  return scrollHeight;\r\n}\r\n\r\nexport function insertToFirst(element: HTMLElement) {\r\n  element.parentElement.insertBefore(element, element.parentElement.firstChild);\r\n}\r\n\r\n//register custom events\r\nwindow.onload = function () {\r\n  registerCustomEvent(\"exmousedown\", \"mousedown\");\r\n  registerCustomEvent(\"exclick\", \"click\");\r\n  registerCustomEvent(\"exmouseleave\", \"mouseleave\");\r\n  registerCustomEvent(\"exmouseenter\", \"mouseenter\");\r\n  registerCustomEvent(\"exmousemove\", \"mousemove\");\r\n  registerCustomEvent(\"exfocus\", \"focus\");\r\n  registerCustomEvent(\"exblur\", \"blur\");\r\n  registerCustomEvent(\"exkeydown\", \"keydown\");\r\n  registerPasteWithData(\"pastewithdata\")\r\n  registerDirective();\r\n}\r\n\r\nfunction registerPasteWithData(customEventName) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(customEventName, {\r\n      browserEventName: 'paste',\r\n      createEventArgs: event => {\r\n        return {\r\n          type: event.type,\r\n          pastedData: event.clipboardData.getData('text')\r\n        };\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function registerTextFieldOnMouseDown(element, inputElement, callback) {\r\n    element.addEventListener('mousedown', (e: MouseEvent) => {\r\n        const target = e.target;\r\n        const inputDom = getDom(inputElement);\r\n        if(target !== inputDom) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n\r\n        if(callback){\r\n            const mouseEventArgs = {\r\n                Detail: e.detail,\r\n                ScreenX: e.screenX,\r\n                ScreenY: e.screenY,\r\n                ClientX: e.clientX,\r\n                ClientY: e.clientY,\r\n                OffsetX: e.offsetX,\r\n                OffsetY: e.offsetY,\r\n                PageX: e.pageX,\r\n                PageY: e.pageY,\r\n                Button: e.button,\r\n                Buttons: e.buttons,\r\n                CtrlKey: e.ctrlKey,\r\n                ShiftKey: e.shiftKey,\r\n                AltKey: e.altKey,\r\n                MetaKey: e.metaKey,\r\n                Type: e.type\r\n            }\r\n\r\n            callback.invokeMethodAsync('Invoke', mouseEventArgs);\r\n        }\r\n    })\r\n}\r\n\r\nfunction registerCustomEvent(eventType, eventName) {\r\n  if (Blazor) {\r\n    Blazor.registerCustomEventType(eventType, {\r\n      browserEventName: eventName,\r\n      createEventArgs: args => {\r\n        var e = {};\r\n\r\n        for (var k in args) {\r\n          if (typeof args[k] == 'string' || typeof args[k] == 'number') {\r\n            e[k] = args[k];\r\n          } else if (k == 'target') {\r\n            var targetElement: HTMLElement = args.target;\r\n            if (targetElement.getAttribute('return-target') == null) {\r\n              e[k] = {};\r\n              continue;\r\n            }\r\n\r\n            var target = {\r\n              attributes: {}\r\n            };\r\n\r\n            for (let index = 0; index < args.target.attributes.length; index++) {\r\n              const attr = args.target.attributes[index];\r\n              target.attributes[attr.name] = attr.value;\r\n            }\r\n            e[k] = target;\r\n          }\r\n        }\r\n\r\n        return e;\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function isMobile() {\r\n  return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)\r\n    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4));\r\n}\r\n\r\nexport function checkElementFixed(selector) {\r\n  let el = document.querySelector(selector);\r\n  while (el) {\r\n    if (window.getComputedStyle(el).position === 'fixed') {\r\n      return true;\r\n    }\r\n\r\n    el = el.offsetParent as HTMLElement;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport function containsActiveElement(selector) {\r\n  var el = getDom(selector);\r\n  if (el && el.contains) {\r\n    return el.contains(document.activeElement);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport function copyChild(el) {\r\n  if (typeof el === 'string') {\r\n    el = document.querySelector(el);\r\n  }\r\n\r\n  if (!el) return;\r\n\r\n  el.setAttribute('contenteditable', 'true');\r\n  el.focus();\r\n  document.execCommand('selectAll', false, null);\r\n  document.execCommand('copy');\r\n  document.execCommand('unselect');\r\n  el.removeAttribute('contenteditable');\r\n}\r\n\r\nexport function copyText(text) {\r\n  if (!navigator.clipboard) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n      var successful = document.execCommand('copy');\r\n      var msg = successful ? 'successful' : 'unsuccessful';\r\n      console.log('Fallback: Copying text command was ' + msg);\r\n    } catch (err) {\r\n      console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n    return;\r\n  }\r\n\r\n  navigator.clipboard.writeText(text).then(function () {\r\n    console.log('Async: Copying to clipboard was successful!');\r\n  }, function (err) {\r\n    console.error('Async: Could not copy text: ', err);\r\n  });\r\n}\r\n\r\nexport function getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector) {\r\n  if (!attached) {\r\n    var container = document.querySelector(attachSelector);\r\n    if (contentElement.nodeType) {\r\n      container.appendChild(contentElement);\r\n    }\r\n  }\r\n\r\n  var dimensions = {\r\n    activator: {} as any,\r\n    content: null,\r\n    relativeYOffset: 0,\r\n    offsetParentLeft: 0\r\n  };\r\n\r\n  if (hasActivator) {\r\n    var activator = document.querySelector(activatorSelector);\r\n    dimensions.activator = measure(activator, attach)\r\n    dimensions.activator.offsetLeft = activator.offsetLeft\r\n    if (attach !== null) {\r\n      // account for css padding causing things to not line up\r\n      // this is mostly for v-autocomplete, hopefully it won't break anything\r\n      dimensions.activator.offsetTop = activator.offsetTop\r\n    } else {\r\n      dimensions.activator.offsetTop = 0\r\n    }\r\n  }\r\n\r\n  sneakPeek(() => {\r\n    if (contentElement) {\r\n      if (contentElement.offsetParent) {\r\n        const offsetRect = getRoundedBoundedClientRect(contentElement.offsetParent)\r\n        dimensions.relativeYOffset = window.pageYOffset + offsetRect.top\r\n\r\n        if (hasActivator) {\r\n          dimensions.activator.top -= dimensions.relativeYOffset\r\n          dimensions.activator.left -= window.pageXOffset + offsetRect.left\r\n        } else {\r\n          dimensions.offsetParentLeft = offsetRect.left\r\n        }\r\n      }\r\n\r\n      dimensions.content = measure(contentElement, attach)\r\n    }\r\n  }, contentElement);\r\n\r\n  return dimensions;\r\n}\r\n\r\nfunction measure(el: HTMLElement, attach) {\r\n  if (!el) return null\r\n\r\n  const rect = getRoundedBoundedClientRect(el)\r\n\r\n  // Account for activator margin\r\n  if (attach !== null) {\r\n    const style = window.getComputedStyle(el)\r\n\r\n    rect.left = parseInt(style.marginLeft!)\r\n    rect.top = parseInt(style.marginTop!)\r\n  }\r\n\r\n  return rect\r\n}\r\n\r\nfunction getRoundedBoundedClientRect(el: Element) {\r\n  if (!el || !el.nodeType) {\r\n    return null\r\n  }\r\n\r\n  const rect = el.getBoundingClientRect()\r\n  return {\r\n    top: Math.round(rect.top),\r\n    left: Math.round(rect.left),\r\n    bottom: Math.round(rect.bottom),\r\n    right: Math.round(rect.right),\r\n    width: Math.round(rect.width),\r\n    height: Math.round(rect.height),\r\n  }\r\n}\r\n\r\nfunction sneakPeek(cb: () => void, el) {\r\n  if (!el || !el.style || el.style.display !== 'none') {\r\n    cb()\r\n    return\r\n  }\r\n\r\n  el.style.display = 'inline-block'\r\n  cb()\r\n  el.style.display = 'none'\r\n}\r\n\r\n\r\nexport function observeElement(el, sizeProp, expandTransition) {\r\n  if (!el) return;\r\n\r\n  updateSize(el, sizeProp, expandTransition);\r\n\r\n  var observer = new ResizeObserver(function (mutationsList) {\r\n    for (let mutation of mutationsList) {\r\n      if (el.className.indexOf('in-transition') > 0) {\r\n        return;\r\n      }\r\n      updateSize(el, sizeProp, expandTransition);\r\n    }\r\n  });\r\n\r\n  observer.observe(el);\r\n}\r\n\r\nfunction updateSize(el, sizeProp, expandTransition) {\r\n  var size = getSize(el, sizeProp);\r\n\r\n  if (el['_size'] != size) {\r\n    el['_size'] = size;\r\n\r\n    var blazorId = getBlazorId(el);\r\n    expandTransition.invokeMethodAsync('OnSizeChanged', size, blazorId);\r\n  }\r\n}\r\n\r\nexport function invokeMultipleMethod(windowProps, documentProps, hasActivator, activatorSelector, attach, contentElement, attached, attachSelector, element) {\r\n  var multipleResult = {\r\n    windowAndDocument: null,\r\n    dimensions: null,\r\n    zIndex: 0\r\n  };\r\n\r\n  multipleResult.windowAndDocument = getWindowAndDocumentProps(windowProps, documentProps);\r\n  multipleResult.dimensions = getMenuableDimensions(hasActivator, activatorSelector, attach, contentElement, attached, attachSelector);\r\n  if (!attached) {\r\n    multipleResult.zIndex = getMenuOrDialogMaxZIndex([contentElement], element);\r\n  }\r\n\r\n  return multipleResult;\r\n}\r\n\r\nexport function registerOTPInputOnInputEvent(elementList, callback) {\r\n  for (let i = 0; i < elementList.length; i++) {\r\n    elementList[i].addEventListener('input', (e: Event) => otpInputOnInputEvent(e, i, elementList, callback));\r\n    elementList[i].addEventListener('focus', (e: Event) => otpInputFocusEvent(e, i, elementList));\r\n    elementList[i].addEventListener('keyup', (e: KeyboardEvent) => otpInputKeyupEvent(e, i, elementList, callback));\r\n  }\r\n}\r\n\r\nexport function otpInputKeyupEvent(e: KeyboardEvent, otpIdx: number, elementList, callback) {\r\n  e.preventDefault();\r\n  const eventKey = e.key;\r\n  if (eventKey === 'ArrowLeft' || eventKey === 'Backspace') {\r\n    if (eventKey === 'Backspace') {\r\n      const obj = {\r\n        type: eventKey,\r\n        index: otpIdx,\r\n        value: ''\r\n      }\r\n      if (callback) {\r\n        callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n      }\r\n    }\r\n    otpInputFocus(otpIdx - 1, elementList);\r\n  }\r\n  else if (eventKey === 'ArrowRight') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n  }\r\n}\r\n\r\nexport function otpInputFocus(focusIndex: number, elementList) {\r\n  if (focusIndex < 0) {\r\n    otpInputFocus(0, elementList);\r\n  }\r\n  else if (focusIndex >= elementList.length) {\r\n    otpInputFocus(elementList.length - 1, elementList);\r\n  }\r\n  else {\r\n    if (document.activeElement !== elementList[focusIndex]) {\r\n      const element = getDom(elementList[focusIndex])\r\n      element.focus();\r\n    }\r\n  }\r\n}\r\n\r\nexport function otpInputFocusEvent(e: Event, otpIdx: number, elementList) {\r\n  const element = getDom(elementList[otpIdx]);\r\n  if (element && document.activeElement === element) {\r\n    element.select();\r\n  }\r\n}\r\n\r\nexport function otpInputOnInputEvent(e: Event, otpIdx: number, elementList, callback) {\r\n  const target = e.target as HTMLInputElement;\r\n  const value = target.value;\r\n\r\n  if (value && value !== '') {\r\n    otpInputFocus(otpIdx + 1, elementList);\r\n\r\n    if (callback) {\r\n      const obj = {\r\n        type: 'Input',\r\n        index: otpIdx,\r\n        value: value\r\n      }\r\n      callback.invokeMethodAsync('Invoke', JSON.stringify(obj));\r\n    }\r\n  }\r\n}\r\n\r\nfunction getBlazorId(el) {\r\n  let _bl_ = el.getAttributeNames().find(a => a.startsWith('_bl_'))\r\n  if (_bl_) {\r\n    _bl_ = _bl_.substring(4);\r\n  }\r\n\r\n  return _bl_;\r\n}","﻿//extract from https://github.com/ichord/Caret.js\r\n\r\nclass InputCaret {\r\n    domInputor: any;\r\n\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n    }\r\n\r\n    getPos = function () {\r\n        return this.domInputor.selectionStart;\r\n    };\r\n\r\n    getPosition = function (pos) {\r\n        var domInputor, end_range, format, html, mirror, start_range;\r\n        domInputor = this.domInputor;\r\n\r\n        format = function (value) {\r\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\r\n            if (/firefox/i.test(navigator.userAgent)) {\r\n                value = value.replace(/\\s/g, '&nbsp;');\r\n            }\r\n            return value;\r\n        };\r\n        if (!pos) {\r\n            pos = this.getPos();\r\n        }\r\n        let inputorValue = domInputor.value;\r\n        start_range = inputorValue.slice(0, pos);\r\n        end_range = inputorValue.slice(pos);\r\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\r\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\r\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\r\n        mirror = new Mirror(domInputor);\r\n        return mirror.create(html).rect();\r\n    };\r\n\r\n    getOffset = function (pos = null) {\r\n        var offset, position, domInputor;\r\n        domInputor = this.domInputor;\r\n\r\n        var rect = domInputor.getBoundingClientRect();\r\n\r\n        offset = {\r\n            left: rect.left,\r\n            top: rect.top\r\n        };\r\n     \r\n        position = this.getPosition(pos);\r\n        return offset = {\r\n            left: offset.left + position.left - domInputor.scrollLeft, \r\n            top: offset.top + position.top - domInputor.scrollTop, \r\n            height: position.height\r\n        };\r\n    };\r\n\r\n}\r\n\r\nclass Mirror {\r\n    domInputor: any;\r\n    css_attr: any;\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n        this.css_attr = [];\r\n    }\r\n\r\n    create = function (html) {\r\n        this.$mirror = document.createElement(\"div\");\r\n\r\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\r\n\r\n        this.$mirror.innerHTML = html;\r\n        this.domInputor.parentElement.append(this.$mirror);\r\n\r\n        return this;\r\n    };\r\n\r\n    mirrorCss = function () {\r\n        var css, _this = this;\r\n        css = {\r\n            position: 'absolute',\r\n            left: -9999,\r\n            top: 0,\r\n            zIndex: -20000\r\n        };\r\n\r\n        this.css_attr.push('width');\r\n\r\n        this.css_attr.forEach((p) => {\r\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\r\n        })\r\n        \r\n        return css;\r\n    };\r\n\r\n    rect = function () {\r\n        var flag, pos, rect;\r\n        flag = this.$mirror.querySelector(\"#caret\");\r\n        var oRect = flag.getBoundingClientRect();\r\n\r\n        pos = {\r\n            left: flag.offsetLeft,\r\n            top: flag.offsetTop\r\n        }; //$flag.position();\r\n\r\n        rect = {\r\n            left: pos.left,\r\n            top: pos.top,\r\n            height: oRect.height\r\n        };\r\n\r\n        this.$mirror.parentElement.removeChild(this.$mirror)\r\n        return rect;\r\n    };\r\n\r\n}\r\n\r\nfunction getOffset(elem) {\r\n    return (new InputCaret(elem)).getOffset();\r\n}\r\n\r\nexport default getOffset;","﻿\r\nconst throttle = (fn, threshold = 160) => {\r\n    let timeout;\r\n    var start = +new Date;\r\n    return function (...args) {\r\n        let context = this, curTime = +new Date() - 0;\r\n        //总是干掉事件回调\r\n        window.clearTimeout(timeout);\r\n        if (curTime - start >= threshold) {\r\n            //只执行一部分方法，这些方法是在某个时间段内执行一次\r\n            fn.apply(context, args);\r\n            start = curTime;\r\n        }\r\n        else {\r\n            //让方法在脱离事件后也能执行一次\r\n            timeout = window.setTimeout(() => {\r\n                //@ts-ignore\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        }\r\n    };\r\n}\r\n\r\nconst eventMap = new Map<HTMLElement, Dragger>();\r\n\r\nconst defaultOptions = {\r\n    inViewport: true\r\n}\r\n\r\nclass Dragger {\r\n\r\n    private _triggler: HTMLElement = null;\r\n    private _container: HTMLElement = null;\r\n    private _options: any = null;\r\n    private _state: any = null;\r\n    private _isFirst: boolean = true;\r\n    private _style: string = null;\r\n\r\n    constructor(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean) {\r\n        this._triggler = triggler;\r\n        this._container = container;\r\n        this._options = Object.assign({}, defaultOptions, {\r\n            inViewport: dragInViewport\r\n        });\r\n        this._state = {\r\n            isInDrag: false,\r\n            mX: 0, // mouse x\r\n            mY: 0, // mouse y\r\n            domStartX: 0, // on mousedown, the mouse x\r\n            domStartY: 0, // on mousedown, the mouse y            \r\n        }\r\n    }\r\n\r\n    getContainerPos() {\r\n        const rect = this._container.getBoundingClientRect();\r\n        return {\r\n            left: rect.left,\r\n            top: rect.top\r\n        }\r\n    }\r\n\r\n    onMousedown = (e) => {\r\n        const state = this._state;\r\n        state.isInDrag = true;\r\n        state.mX = e.clientX;\r\n        state.mY = e.clientY;\r\n        this._container.style.position = \"absolute\";\r\n        const { left, top } = this.getContainerPos();\r\n\r\n        if (this._isFirst) {\r\n\r\n            state.domMaxY = document.documentElement.clientHeight\r\n                - this._container.offsetHeight - 1;\r\n            state.domMaxX = document.documentElement.clientWidth\r\n                - this._container.offsetWidth - 1;\r\n\r\n            this._container.style.left = left + 'px';\r\n            this._container.style.top = top + 'px';\r\n\r\n            if (!this._style) {\r\n                this._style = this._container.getAttribute(\"style\");\r\n            }\r\n\r\n            this._isFirst = false;\r\n        }\r\n\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMouseup = (e) => {\r\n        const state = this._state;\r\n\r\n        state.isInDrag = false;\r\n\r\n        const { left, top } = this.getContainerPos();\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMousemove = throttle((e) => {\r\n        const state = this._state;\r\n        if (state.isInDrag) {\r\n            var nowX = e.clientX,\r\n                nowY = e.clientY,\r\n                disX = nowX - state.mX,\r\n                disY = nowY - state.mY;\r\n\r\n            var newDomX = state.domStartX + disX;\r\n            var newDomY = state.domStartY + disY;\r\n            if (this._options.inViewport) {\r\n                if (newDomX < 0) {\r\n                    newDomX = 0;\r\n                }\r\n                else if (newDomX > state.domMaxX) {\r\n                    newDomX = state.domMaxX;\r\n                }\r\n                if (newDomY < 0) {\r\n                    newDomY = 0;\r\n                }\r\n                else if (newDomY > state.domMaxY) {\r\n                    newDomY = state.domMaxY;\r\n                }\r\n            }\r\n            this._container.style.position = \"absolute\";\r\n            this._container.style.margin = \"0\";\r\n            this._container.style.paddingBottom = \"0\";\r\n            this._container.style.left = newDomX + \"px\";\r\n            this._container.style.top = newDomY + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    onResize = throttle((e) => {\r\n        const state = this._state;\r\n\r\n        state.domMaxY = document.documentElement.clientHeight\r\n            - this._container.offsetHeight - 1;\r\n        state.domMaxX = document.documentElement.clientWidth\r\n            - this._container.offsetWidth - 1;\r\n        state.domStartY = parseInt(this._container.style.top);\r\n        state.domStartX = parseInt(this._container.style.left);\r\n        if (state.domStartY > state.domMaxY) {\r\n            if (state.domMaxY > 0) {\r\n                this._container.style.top = state.domMaxY + \"px\";\r\n            }\r\n        }\r\n        if (state.domStartX > state.domMaxX) {\r\n            this._container.style.left = state.domMaxX + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    bindDrag() {\r\n        const triggler = this._triggler;\r\n        const options = this._options;\r\n\r\n        triggler.addEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.addEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.addEventListener(\"mousemove\", this.onMousemove);\r\n        if (options.inViewport) {\r\n            window.addEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    unbindDrag() {\r\n        const triggler = this._triggler;\r\n\r\n        triggler.removeEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.removeEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.removeEventListener(\"mousemove\", this.onMousemove);\r\n        if (this._options.inViewport) {\r\n            window.removeEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    resetContainerStyle() {\r\n        if (this._style !== null) {\r\n            this._isFirst = true;\r\n            this._container.setAttribute(\"style\", this._style);\r\n        }\r\n    }\r\n}\r\n\r\nfunction enableDraggable(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean = true) {\r\n    let dragger = eventMap.get(triggler);\r\n    if (!dragger) {\r\n        dragger = new Dragger(triggler, container, dragInViewport);\r\n        eventMap.set(triggler, dragger);\r\n    } \r\n    dragger.bindDrag();\r\n}\r\n\r\nfunction disableDraggable(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.unbindDrag();\r\n    }\r\n}\r\n\r\nfunction resetModalPosition(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.resetContainerStyle();\r\n    }\r\n}\r\n\r\nexport { enableDraggable, disableDraggable, resetModalPosition };"]}
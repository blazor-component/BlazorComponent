function e(e,t,s,i){return new(s||(s=Promise))((function(n,l){function o(e){try{h(i.next(e))}catch(e){l(e)}}function a(e){try{h(i.throw(e))}catch(e){l(e)}}function h(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,a)}h((i=i.apply(e,t||[])).next())}))}class t{constructor(e,t,s,i){this.dotnetHelper=e,this.name=t,this.leaveAbsolute=i,this.enterClass=`${this.name}-enter`,this.enterActiveClass=`${this.name}-enter-active`,this.enterToClass=`${this.name}-enter-to`,this.leaveClass=`${this.name}-leave`,this.leaveActiveClass=`${this.name}-leave-active`,this.leaveToClass=`${this.name}-leave-to`,this.el="string"==typeof s?document.querySelector(s):s}onEnter(e){e&&(this.el=e),console.log("onEnter el:",this.el),console.log("onEnter enterClass",this.enterClass),console.log("onEnter enterActiveClass",this.enterActiveClass),this.addTransitionClass(this.el,this.enterClass),this.addTransitionClass(this.el,this.enterActiveClass);const t=()=>{console.log("onEnter [resolve] remove enterToClass and enterActiveClass"),this.removeTransitionClass(this.el,this.enterToClass),this.removeTransitionClass(this.el,this.enterActiveClass)};requestAnimationFrame((()=>{requestAnimationFrame((()=>{console.log("onEnter [nextTick] remove enterClass and add enterToClass"),this.removeTransitionClass(this.el,this.enterClass),this.addTransitionClass(this.el,this.enterToClass),this.el.addEventListener("transitionend",t)}))}))}delay(e,t){return new Promise((s=>{setTimeout((()=>s(e)),t)}))}onEnterTo(e){e&&(this.el=e);const t=()=>{console.log("onEnterTo [resolve] remove enterToClass and enterActiveClass"),this.removeTransitionClass(this.el,this.enterToClass),this.removeTransitionClass(this.el,this.enterActiveClass)};requestAnimationFrame((()=>{requestAnimationFrame((()=>{console.log("onEnterTo [nextTick] remove enterClass and add enterToClass"),this.removeTransitionClass(this.el,this.enterClass),this.addTransitionClass(this.el,this.enterToClass),this.el.addEventListener("transitionend",t)}))}))}onLeave(){if(this.leaveAbsolute){const{offsetTop:e,offsetLeft:t,offsetWidth:s,offsetHeight:i}=this.el;this.el._transitionInitialStyles={position:this.el.style.position,top:this.el.style.top,left:this.el.style.left,width:this.el.style.width,height:this.el.style.height},this.el.style.position="absolute",this.el.style.top=e+"px",this.el.style.left=t+"px",this.el.style.width=s+"px",this.el.style.height=i+"px"}this.addTransitionClass(this.el,this.leaveClass),this.addTransitionClass(this.el,this.leaveActiveClass);const t=()=>e(this,void 0,void 0,(function*(){if(yield this.dotnetHelper.invokeMethodAsync("OnTransitionEnd"),this.removeTransitionClass(this.el,this.leaveToClass),this.removeTransitionClass(this.el,this.leaveActiveClass),this.el&&this.el._transitionInitialStyles){const{position:e,top:t,left:s,width:i,height:n}=this.el._transitionInitialStyles;delete this.el._transitionInitialStyles,this.el.style.position=e||"",this.el.style.top=t||"",this.el.style.left=s||"",this.el.style.width=i||"",this.el.style.height=n||""}}));requestAnimationFrame((()=>{requestAnimationFrame((()=>{this.removeTransitionClass(this.el,this.leaveClass),this.addTransitionClass(this.el,this.leaveToClass),this.el.addEventListener("transitionend",t)}))}))}addTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t)))}removeTransitionClass(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)))}}function s(e,s,i,n){return new t(e,s,i,n)}export{s as init};
//# sourceMappingURL=transition.js.map

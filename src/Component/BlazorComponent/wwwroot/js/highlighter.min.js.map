{"version":3,"file":"highlighter.min.js","sources":["../../../BlazorComponent.Web/src/proxies/markdown-it/highlighter.ts"],"sourcesContent":["declare const Prism: Prism;\ndeclare const hljs: hljs;\n\nfunction getHighlighter() {\n  try {\n    if (Prism) {\n      return {\n        getLanguage(lang: string) {\n          return Prism.languages[lang];\n        },\n        highlight(str: string, lang: string) {\n          return Prism.highlight(str, Prism.languages[lang], lang);\n        },\n      };\n    }\n  } catch (error) {}\n\n  try {\n    if (hljs) {\n      return {\n        getLanguage(lang: string) {\n          return hljs.getLanguage(lang);\n        },\n        highlight(str: string, lang: string) {\n          return hljs.highlight(str, { language: lang }).value;\n        },\n      };\n    }\n  } catch (error) {}\n\n  return undefined;\n}\n\nexport function highlight(str: string, lang: string) {\n  const highlighter = getHighlighter();\n\n  if (!highlighter) {\n    console.warn(\n      `Highlighter(Prismjs or Highlight.js) is required!`\n    );\n    return str;\n  }\n\n  if (!lang) {\n    return str;\n  }\n\n  lang = getLangCodeFromExtension(lang.toLowerCase());\n\n  if (highlighter.getLanguage(lang)) {\n    try {\n      return highlighter.highlight(str, lang);\n    } catch (error) {\n      console.error(\n        `Syntax highlight for language ${lang} failed.`\n      );\n      return str;\n    }\n  } else {\n    console.warn(\n      `[markdown-it-proxy] Syntax highlight for language \"${lang}\" is not supported.`\n    );\n  }\n}\n\nfunction getLangCodeFromExtension(extension) {\n  const extensionMap = {\n    cs: \"csharp\",\n    md: \"markdown\",\n    ts: \"typescript\",\n    py: \"python\",\n    razor: \"cshtml\",\n    sh: \"bash\",\n    yml: \"yaml\",\n  };\n\n  return extensionMap[extension] || extension;\n}"],"names":["highlight","str","lang","highlighter","Prism","getLanguage","languages","error","hljs","language","value","getHighlighter","console","warn","extension","toLowerCase","cs","md","ts","py","razor","sh","yml"],"mappings":"AAiCgB,SAAAA,EAAUC,EAAaC,GACrC,MAAMC,EA/BR,WACE,IACE,GAAIC,MACF,MAAO,CACLC,YAAYH,GACHE,MAAME,UAAUJ,GAEzBF,UAAS,CAACC,EAAaC,IACdE,MAAMJ,UAAUC,EAAKG,MAAME,UAAUJ,GAAOA,GAIzC,CAAhB,MAAOK,GAAS,CAElB,IACE,GAAIC,KACF,MAAO,CACLH,YAAYH,GACHM,KAAKH,YAAYH,GAE1BF,UAAS,CAACC,EAAaC,IACdM,KAAKR,UAAUC,EAAK,CAAEQ,SAAUP,IAAQQ,MAIrC,CAAhB,MAAOH,GAAS,CAGpB,CAGsBI,GAEpB,IAAKR,EAIH,OAHAS,QAAQC,KACN,qDAEKZ,EAGT,IAAKC,EACH,OAAOD,EAqBX,IAAkCa,EAhBhC,GAgBgCA,EAlBAZ,EAAKa,cAArCb,EAmBqB,CACnBc,GAAI,SACJC,GAAI,WACJC,GAAI,aACJC,GAAI,SACJC,MAAO,SACPC,GAAI,OACJC,IAAK,QAGaR,IAAcA,EA3B9BX,EAAYE,YAAYH,GAC1B,IACE,OAAOC,EAAYH,UAAUC,EAAKC,EAMnC,CALC,MAAOK,GAIP,OAHAK,QAAQL,MACN,iCAAiCL,aAE5BD,CACR,MAEDW,QAAQC,KACN,sDAAsDX,uBAG5D"}
{"version":3,"file":"outside-click.js","sources":["../../../BlazorComponent.Web/src/mixins/outside-click/index.ts"],"sourcesContent":["class OutsideClick {\n  dotNetHelper: DotNet.DotNetObject;\n  listener: (e: MouseEvent & KeyboardEvent & FocusEvent) => void;\n  excludedSelectors: string[];\n\n  constructor(dotNetHelper: DotNet.DotNetObject, excludedSelectors: string[]) {\n    this.dotNetHelper = dotNetHelper;\n    this.excludedSelectors = excludedSelectors;\n  }\n\n  genListener() {\n    this.listener = (e) => {\n      if (\n        this.excludedSelectors.some((selector) => {\n          const el = document.querySelector(selector);\n          if (!el) return false;\n\n          return el.contains(e.target as HTMLElement);\n        })\n      ) {\n        return;\n      }\n\n      this.dotNetHelper.invokeMethodAsync(\"OnOutsideClick\");\n    };\n  }\n\n  addListener() {\n    this.genListener();\n    document.addEventListener(\"click\", this.listener, true);\n  }\n\n  removeListener() {\n    document.removeEventListener(\"click\", this.listener);\n  }\n\n  resetListener() {\n    this.removeListener();\n    this.addListener();\n  }\n}\n\nfunction init(dotNetHelper: DotNet.DotNetObject, excludeSelectors: string[]) {\n  var instance = new OutsideClick(dotNetHelper, excludeSelectors);\n\n  instance.addListener();\n\n  return instance;\n}\n\nexport { init };\n"],"names":["OutsideClick","constructor","dotNetHelper","excludedSelectors","this","genListener","listener","e","some","selector","el","document","querySelector","contains","target","invokeMethodAsync","addListener","addEventListener","removeListener","removeEventListener","resetListener","init","excludeSelectors","instance"],"mappings":"AAAA,MAAMA,EAKJC,YAAYC,EAAmCC,GAC7CC,KAAKF,aAAeA,EACpBE,KAAKD,kBAAoBA,CAC1B,CAEDE,cACED,KAAKE,SAAYC,IAEbH,KAAKD,kBAAkBK,MAAMC,IAC3B,MAAMC,EAAKC,SAASC,cAAcH,GAClC,QAAKC,GAEEA,EAAGG,SAASN,EAAEO,OAAsB,KAM/CV,KAAKF,aAAaa,kBAAkB,iBAAiB,CAExD,CAEDC,cACEZ,KAAKC,cACLM,SAASM,iBAAiB,QAASb,KAAKE,UAAU,EACnD,CAEDY,iBACEP,SAASQ,oBAAoB,QAASf,KAAKE,SAC5C,CAEDc,gBACEhB,KAAKc,iBACLd,KAAKY,aACN,EAGH,SAASK,EAAKnB,EAAmCoB,GAC/C,IAAIC,EAAW,IAAIvB,EAAaE,EAAcoB,GAI9C,OAFAC,EAASP,cAEFO,CACT"}
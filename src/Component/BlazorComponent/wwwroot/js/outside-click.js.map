{"version":3,"file":"outside-click.js","sources":["../../../BlazorComponent.Web/src/mixins/outside-click/index.ts"],"sourcesContent":["class OutsideClick {\n  dotNetHelper: DotNet.DotNetObject;\n  listener: (e: MouseEvent & KeyboardEvent & FocusEvent) => void;\n  excludedElements: HTMLElement[];\n\n  constructor(dotNetHelper: DotNet.DotNetObject, excludeSelectors: string[]) {\n    this.dotNetHelper = dotNetHelper;\n\n    if (excludeSelectors) {\n      this.excludedElements = excludeSelectors.map((selector) =>\n        document.querySelector(selector)\n      );\n\n      this.excludedElements = this.excludedElements.filter((e) => !!e);\n\n      console.log(\"this.excludedElements\", this.excludedElements);\n    }\n  }\n\n  genListener() {\n    this.listener = (e) => {\n      if (\n        this.excludedElements.some((el) => el.contains(e.target as HTMLElement))\n      ) {\n        return;\n      }\n\n      console.log(\"outside-click js clicked\");\n\n      this.dotNetHelper.invokeMethodAsync(\"OnOutsideClick\");\n    };\n  }\n\n  addListener() {\n    console.log(\"addListener.................\");\n    this.genListener();\n    document.addEventListener(\"click\", this.listener, true);\n  }\n\n  removeListener() {\n    document.removeEventListener(\"click\", this.listener);\n  }\n\n  resetListener() {\n    this.removeListener();\n    this.addListener();\n  }\n}\n\nfunction init(dotNetHelper: DotNet.DotNetObject, excludeSelectors: string[]) {\n  console.log(\"init outside click instance\");\n\n  var instance = new OutsideClick(dotNetHelper, excludeSelectors);\n\n  instance.addListener();\n\n  return instance;\n}\n\nexport { init };\n"],"names":["OutsideClick","constructor","dotNetHelper","excludeSelectors","this","excludedElements","map","selector","document","querySelector","filter","e","console","log","genListener","listener","some","el","contains","target","invokeMethodAsync","addListener","addEventListener","removeListener","removeEventListener","resetListener","init","instance"],"mappings":"AAAA,MAAMA,EAKJC,YAAYC,EAAmCC,GAC7CC,KAAKF,aAAeA,EAEhBC,IACFC,KAAKC,iBAAmBF,EAAiBG,KAAKC,GAC5CC,SAASC,cAAcF,KAGzBH,KAAKC,iBAAmBD,KAAKC,iBAAiBK,QAAQC,KAAQA,IAE9DC,QAAQC,IAAI,wBAAyBT,KAAKC,kBAE7C,CAEDS,cACEV,KAAKW,SAAYJ,IAEbP,KAAKC,iBAAiBW,MAAMC,GAAOA,EAAGC,SAASP,EAAEQ,YAKnDP,QAAQC,IAAI,4BAEZT,KAAKF,aAAakB,kBAAkB,kBAAiB,CAExD,CAEDC,cACET,QAAQC,IAAI,gCACZT,KAAKU,cACLN,SAASc,iBAAiB,QAASlB,KAAKW,UAAU,EACnD,CAEDQ,iBACEf,SAASgB,oBAAoB,QAASpB,KAAKW,SAC5C,CAEDU,gBACErB,KAAKmB,iBACLnB,KAAKiB,aACN,EAGH,SAASK,EAAKxB,EAAmCC,GAC/CS,QAAQC,IAAI,+BAEZ,IAAIc,EAAW,IAAI3B,EAAaE,EAAcC,GAI9C,OAFAwB,EAASN,cAEFM,CACT"}
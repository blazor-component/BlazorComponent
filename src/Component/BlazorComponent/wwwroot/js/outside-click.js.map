{"version":3,"file":"outside-click.js","sources":["../../../BlazorComponent.Web/src/mixins/outside-click/index.ts"],"sourcesContent":["class OutsideClick {\r\n  dotNetHelper: DotNet.DotNetObject;\r\n  listener: (e: MouseEvent & KeyboardEvent & FocusEvent) => void;\r\n  excludedSelectors: string[];\r\n\r\n  constructor(dotNetHelper: DotNet.DotNetObject, excludedSelectors: string[]) {\r\n    this.dotNetHelper = dotNetHelper;\r\n    this.excludedSelectors = excludedSelectors;\r\n  }\r\n\r\n  genListener() {\r\n    this.listener = (e) => {\r\n      if (\r\n        this.excludedSelectors.some((selector) => {\r\n          const el = document.querySelector(selector);\r\n          if (!el) return false;\r\n\r\n          return el.contains(e.target as HTMLElement);\r\n        })\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      this.dotNetHelper.invokeMethodAsync(\"OnOutsideClick\");\r\n    };\r\n  }\r\n\r\n  addListener() {\r\n    this.genListener();\r\n    document.addEventListener(\"click\", this.listener, true);\r\n  }\r\n\r\n  removeListener() {\r\n    document.removeEventListener(\"click\", this.listener);\r\n  }\r\n\r\n  resetListener() {\r\n    this.removeListener();\r\n    this.addListener();\r\n  }\r\n\r\n  updateExcludeSelectors(selectors: string[]) {\r\n    this.excludedSelectors = selectors;\r\n    // this.resetListener();\r\n  }\r\n}\r\n\r\nfunction init(dotNetHelper: DotNet.DotNetObject, excludeSelectors: string[]) {\r\n  var instance = new OutsideClick(dotNetHelper, excludeSelectors);\r\n\r\n  instance.addListener();\r\n\r\n  return instance;\r\n}\r\n\r\nexport { init };\r\n"],"names":["OutsideClick","constructor","dotNetHelper","excludedSelectors","this","genListener","listener","e","some","selector","el","document","querySelector","contains","target","invokeMethodAsync","addListener","addEventListener","removeListener","removeEventListener","resetListener","updateExcludeSelectors","selectors","init","excludeSelectors","instance"],"mappings":"AAAA,MAAMA,EAKJC,YAAYC,EAAmCC,GAC7CC,KAAKF,aAAeA,EACpBE,KAAKD,kBAAoBA,CAC1B,CAEDE,cACED,KAAKE,SAAYC,IAEbH,KAAKD,kBAAkBK,MAAMC,IAC3B,MAAMC,EAAKC,SAASC,cAAcH,GAClC,QAAKC,GAEEA,EAAGG,SAASN,EAAEO,OAAsB,KAM/CV,KAAKF,aAAaa,kBAAkB,iBAAiB,CAExD,CAEDC,cACEZ,KAAKC,cACLM,SAASM,iBAAiB,QAASb,KAAKE,UAAU,EACnD,CAEDY,iBACEP,SAASQ,oBAAoB,QAASf,KAAKE,SAC5C,CAEDc,gBACEhB,KAAKc,iBACLd,KAAKY,aACN,CAEDK,uBAAuBC,GACrBlB,KAAKD,kBAAoBmB,CAE1B,EAGH,SAASC,EAAKrB,EAAmCsB,GAC/C,IAAIC,EAAW,IAAIzB,EAAaE,EAAcsB,GAI9C,OAFAC,EAAST,cAEFS,CACT"}
function e(e){const t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push({identifier:o.identifier,clientX:o.clientX,clientY:o.clientY,screenX:o.screenX,screenY:o.screenY,pageX:o.pageX,pageY:o.pageY})}return t}function t(e){const t=e.target;if(function(e){return-1!==n.indexOf(e.getAttribute("type"))}(t)){const e=function(e){const t=e.value,n=e.type;switch(n){case"date":case"month":case"week":return t;case"datetime-local":return 16===t.length?t+":00":t;case"time":return 5===t.length?t+":00":t}throw new Error(`Invalid element type '${n}'.`)}(t);return{value:e}}if(function(e){return e instanceof HTMLSelectElement&&"select-multiple"===e.type}(t)){const e=t;return{value:Array.from(e.options).filter((e=>e.selected)).map((e=>e.value))}}{const e=function(e){return!!e&&"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}(t);return{value:e?!!t.checked:t.value}}}const n=["date","datetime-local","month","time","week"];let o=!1;try{if("undefined"!=typeof window){const e=Object.defineProperty({},"passive",{get:()=>{o=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(e){console.warn(e)}function i(t,n){let o={target:{}};var i;if("mouse"===t?o=Object.assign(Object.assign({},o),{detail:(i=n).detail,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,offsetX:i.offsetX,offsetY:i.offsetY,pageX:i.pageX,pageY:i.pageY,button:i.button,buttons:i.buttons,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,altKey:i.altKey,metaKey:i.metaKey,type:i.type}):"touch"===t&&(o=Object.assign(Object.assign({},o),function(t){return{detail:t.detail,touches:e(t.touches),targetTouches:e(t.targetTouches),changedTouches:e(t.changedTouches),ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey,type:t.type}}(n))),n.target){const e=n.target,t=e.getAttributeNames().find((e=>e.startsWith("_bl_")));t?(o.target.elementReferenceId=t,o.target.selector=`[${t}]`):o.target.selector=function(e){if(e instanceof Element){for(var t=[];e.nodeType===Node.ELEMENT_NODE;){var n=e.nodeName.toLowerCase();if(e.id){n+="#"+e.id,t.unshift(n);break}for(var o=e,i=1;o=o.previousElementSibling;)o.nodeName.toLowerCase()==n&&i++;1!=i&&(n+=":nth-of-type("+i+")"),t.unshift(n),e=e.parentNode}return t.join(" > ")}}(e),o.target.class=e.getAttribute("class")}return o}function s(e,n,o,s){console.log("register",n),function(e,t){e.addEventListener("click",(e=>{if(!r(e,"click")){var n=i("mouse",e);t.invokeMethodAsync("OnClick",n)}}))}(n,o),function(e,t){e.addEventListener("mouseup",(e=>{if(!r(e,"mouseup")){var n=i("mouse",e);t.invokeMethodAsync("OnMouseUp",n)}}))}(n,o),e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&function(e,n,o){let i,s=!1;e.addEventListener("compositionstart",(e=>{s=!0})),e.addEventListener("compositionend",(o=>{s=!1;const i=t(o);i.value=e.value,-1!==e.maxLength&&i.value.length>e.maxLength&&(i.value=i.value.substring(0,e.maxLength)),n.invokeMethodAsync("OnInput",i)})),e.addEventListener("input",(e=>{if(!s){var a=t(e);clearTimeout(i),i=setTimeout((()=>{n.invokeMethodAsync("OnInput",a)}),o)}}))}(e,o,s)}function a(e,t){e.value=t}function r(e,t){const n=["_blazorEvents_1","stopPropagationFlags",t];let o=e.composedPath()[0],i=0;for(;o[n[i]];)o=o[n[i]],i++;return i==n.length&&"boolean"==typeof o&&o}Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});export{s as registerInputEvents,a as setValue};
//# sourceMappingURL=input.js.map
